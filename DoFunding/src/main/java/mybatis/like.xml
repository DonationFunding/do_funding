<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="like.model.Like">
<insert id="InsertLike">insert into do_like(l_num,m_no,lp_num,l_check)values(likseq.nextval,#{m_no},#{lp_num},1) </insert>

<select id="SelectLike" resultType="int">select l_check from do_like where m_no = #{m_no} and lp_num = #{lp_num} </select>

<select id="CheckLike" resultType="like.model.LikeBean">select * from do_like where m_no = #{m_no} and lp_num = #{lp_num} </select>

<update id="UpdateLike">update do_like set l_check = 1 where lp_num = #{lp_num} and m_no = #{m_no} </update>

<update id="UpdateDisLike">update do_like set l_check = 0 where lp_num = #{lp_num} and m_no = #{m_no} </update>

<delete id="deleteLike">delete from do_like m_no=#{m_no} </delete>

<select id="LikeList"  > select l_num, p_image, p_subject 
						 from	do_like, do_product , do_members
						 where  p_num = lp_num  and m_no=#{no} order by l_num;

</select>
</mapper>