dd
1.pom.xml
	oracle, datasource, mybatis, ìœ íš¨ì„± ê²€ì‚¬, íŒŒì¼ ì—…ë¡œë“œ
2.web.xml

3.root-context.xml
	bean 3ê°œ ì‘ì„±
	SqlMapConfig.xml 1ê°œ ìƒì„±=> xml 3ê°œ ìƒì„±=>DOCTYPE ì„¤ì •,configuration íƒœê·¸ ì„¤ì •,mapperíƒœê·¸ ì„¤ì •
	
4. *.admin => admin-context.xml	
4. *.product => product-context.xml	
4. *.order => order-context.xml
4. *.member => member-context.xml
4. *.board => board-context.xml


-ì‚¬ì´íŠ¸ ì£¼ì¸= ê´€ë¦¬ì
-íšŒì› í…Œì´ë¸”
-ê²Œì‹œíŒ í…Œì´ë¸”
-ìƒí’ˆ í…Œì´ë¸”
-

DB 

-- íšŒì› í…Œì´ë¸”
drop sequence seqdo_members;
create sequence seqdo_members 
	increment by 1 
	start with 1 
	nocache ;
  
1.íšŒì›ê°€ì… form=ê¸°ì…ëª©ë¡ì€ ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸ ,ë¹„ë°€ë²ˆí˜¸í™•ì¸, ì´ë¦„, (ìë™ê¸°ì…=ê°€ì…ì¼)
1-1--ê³„ì¢Œì—°ë™ì´ í•„ìš”í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.(í€ë”©ì„ í•˜ë ¤í• ë•Œ ifë¬¸)

2.admin
2-1 ì´ˆê¸°ì— ìƒì„±ì‹œì— insertì—ì„œ ê´€ë¦¬ì noë¥¼ 0ìœ¼ë¡œ ì¡ëŠ”ë‹¤.
2-2 ì§ì›ì€ ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ buttonìœ¼ë¡œ ë“±ì—…í•˜ëŠ” ë°©ì‹
DROP TABLE members CASCADE CONSTRAINTS;
create table do_members(
	no number primary key ,			//íšŒì›ë²ˆí˜¸	(1ë²ˆì„ ê´€ë¦¬ìë¡œ ì„¤ì •í•˜ë©´ ë êº¼ ê°™ì•„ìš”. ê´€ë¦¬ì ì—¬ëŸ¬ëª… ì¶”í›„ ë§Œë“ ë‹¤ë©´ ê´€ë¦¬ì ë¦¬ìŠ¤íŠ¸ë¥¼ ë°°ì—´ë¡œ í•´ì„œ ì„¤ì •í•˜ê³ )
	admin number default 1		//1ì€ ì¼ë°˜íšŒì›, ì§ì›ì€ ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ buttonìœ¼ë¡œ ë“±ì—…í•˜ëŠ” ë°©ì‹
	id varchar2(10) not null,//ì•„ì´ë”” ì¤‘ë³µì²´í¬
	
	password varchar2(30),		//ë¹„ë°€ë²ˆí˜¸
	
	name varchar2(30),			//ì´ë¦„
	
	birthday date not null,		//ìƒì¼
	
	joindate date default sysdate,	//ê°€ì…ì¼
	
	gender varchar2(10),		//ì„±ë³„ 
	
	hp1 varchar2(10),			//(í°)ì•ìë¦¬
	hp2 varchar2(10),			//(í°)ì¤‘ê°„ìë¦¬
	hp3 varchar2(20),			//(í°)ë’·ìë¦¬
	
	address1 varchar2(30),		//ì£¼ì†Œ1
	address2 varchar2(30),		//ì£¼ì†Œ2(ìƒì„¸ì£¼ì†Œ)
	
	accountbank varchar2(20),	//ê³„ì¢Œì€í–‰
	account varchar2(20),		//ê³„ì¢Œ 
	
	mpoint number default 0 	//ì´ê±´ ì˜ ëª¨ë¥´ê²ŸìŒ(í¬ì¸íŠ¸ ê¸°ëŠ¥)
) ;

--insertì¶”ê°€í•´ì•¼í•¨()

insert into do_members(no,admin,id,password,name,birthday,joindate,gender,hp1,hp2,hp3,address1,address2,accountbank,account,mpoint)
values(seqdo_members.nextval,'0','kim','1234','ê´€ë¦¬ì1','2022-3-6',sysdate,'ë‚¨ì','010','4586','5870','ì„œìš¸íŠ¹ë³„ì‹œ ì–´ë”˜ê°€ë¡œ 123-4','í€ë”©ì•„íŒŒíŠ¸ 205í˜¸','êµ­ë¯¼ì€í–‰','123456-23442323','0');

insert into do_members(no,id,password,name,birthday,gender,hp1,hp2,hp3,address1,address2,accountbank,account,mpoint)values(seqdo_members.nextval,'kim','1234','ê¹€ì² ìˆ˜','2022-04-05','ë‚¨ì','010','2580','9876','ì„œìš¸ì‹œ','ì€í‰êµ¬','êµ­ë¯¼ì€í–‰','012345678','10000');

insert into do_members(id,name,password,salary,hiredate,gender,hobby,job,zipcode)
values(seqdo_members.nextval,'kim','ê¹€ì² ìˆ˜','1234',100,sysdate,'ë‚¨ì','ê²Œì„','í•™ìƒ','123-456');

commit ;
col id for a6
col password for a8
col name for a8
col gender for a6
col address1 for a10
col address2 for a10
col job for a6
select * from members;


--ì•„ë˜ sqlë¬¸ì€ ë‹µê¸€ê¹Œì§€ insert í•œ ê²ƒ
--insert ìˆ˜ì •í•´ì•¼í•¨	
insert into do_board(num,writer,email,subject,passwd,reg_date,ref,re_step,re_level,content,ip)
values(board_seq.nextval,'a1','a1','a1','1234','2015-1-1',1,0,0,'ë‚´ìš©1','127.0.0.1');

commit;

-----------------------ë©¤ë²„+ admin---------------------------------

--ì œí’ˆ(ì œí’ˆ í›„ê¸° ë§Œë“œë‚˜ìš”?)

drop sequence seqdo_product;
create sequence seqdo_product
  increment by 1
  start with 1
  minvalue 1
  nocache;


3. loginInfoì—ì„œ admin ì´ 0ì¸(ì§ì›orê´€ë¦¬ì) ìœ ì €ë§Œ ì œí’ˆë“±ë¡ ê°€ëŠ¥/ì•„ë§ˆë„ ê´€ë¦¬ìí˜ì´ì§€ì—ì„œë§Œ ë“±ë¡ ê°€ëŠ¥
  
drop table do_product CASCADE CONSTRAINTS;
<<<<<<< HEAD
=======

>>>>>>> refs/remotes/origin/do-hjh
create table do_product( 
<<<<<<< HEAD
	p_num 		number  primary key,	//ì œí’ˆ ë²ˆí˜¸()
	p_writer 	varchar2(10) not null,	//ì‘ì„±ìëŠ” member id
	p_subject 	varchar2(20) not null,		//ê²Œì‹œê¸€ ì œëª©
	p_readcount int default 0,				//ì¡°íšŒìˆ˜
	p_image    	varchar2(500),				//ì´ë¯¸ì§€ íŒŒì¼
	p_content 	varchar2(20) not null		//ê²Œì‹œê¸€ ë‚´ìš©			
=======
	p_num 		number  primary key,	//Á¦Ç° ¹øÈ£()
	p_writer 	not null,	//ÀÛ¼ºÀÚ´Â member id
	p_subject 	varchar2(20) not null,		//°Ô½Ã±Û Á¦¸ñ
	p_readcount int default 0,				//Á¶È¸¼ö
	p_image    	varchar2(500),				//ÀÌ¹ÌÁö ÆÄÀÏ
	p_content 	varchar2(20) not null		//°Ô½Ã±Û ³»¿ë			
>>>>>>> refs/remotes/origin/do-hjh
	
	--ë°ì´í„° í•œê³„ ëŒíŒŒëŠ” ë‚˜ì¤‘ì—
	--ì°œ ëˆ„ë¥¸ì‚¬ëŒ ì•„ì´ë””,ì•„ì´ë””,ì•„ì´ë””......
	p_like 		varchar2(3000) not null		//ê²Œì‹œê¸€ ì°œ(ì°œ ìˆ˜ëŠ” length)			
			
	
	--ì˜µì…˜ì€ ì˜µì…˜ê³¼ value í•œìŒì„ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ë¬¶ì–´ì„œ ì…ë ¥ ","
	--ì˜µì…˜/value êµ¬ë¶„ì: /
	--ì˜µì…˜ë©ì–´ë¦¬,ì˜µì…˜ë©ì–´ë¦¬  êµ¬ë¶„ì: ,
	--ì˜µì…˜1(..)	selectbox(color/red), radiobox
	
	p_option		varchar2(500)
	
	--ì˜µì…˜2(..)
	p_option2		varchar2(500)
	
	--ê°€ê²©
	p_origin_price 	int default 0,			//ë‹¨ê°€	
	p_total_price 	int default 0,			//ê°€ê²©(í˜„ì¬ê¸ˆì•¡)
	p_end_price 	int default 0,			//ê°€ê²©(ëª©í‘œê¸ˆì•¡) 157%~ 200% ìˆìœ¼ë‹ˆ ììœ ë¡­ê²Œ
	
	
	p_point 	varchar2(20) not null		//ì œí’ˆí¬ì¸íŠ¸	
	
	--í›„ê¸°ê²Œì‹œíŒ(ì´ê±° í…Œì´ë¸” ë”°ë¡œ ì¡ì„ê²Œìš”) == do_p_board
--	p_ref 		number not null,			//ê²Œì‹œê¸€(ê¸€)
--	p_re_step 	number not null,			//í•œ ê²Œì‹œê¸€ì— ëŒ€í•œ ìˆœë²ˆ(ê¸€,ëŒ“ê¸€,ë‹µê¸€)
--	p_re_level 	number not null,			//ê²Œì‹œê¸€ ë‹¨ê³„(ê¸€=0,ëŒ“ê¸€=1,ë‹µê¸€=2,ë‹µê¸€ì˜ë‹µê¸€=3...)

<<<<<<< HEAD
	--ìš”ì¼
	p_reg_date 		default sysdate  ,	//ì‘ì„±ì¼ default sysdate ë„£ì–´ë„ ê´œì°®ì„êº¼ ê°™ìŠµë‹ˆë‹¤.
	p_start_date 	date not null,		//í€ë”© ì‹œì‘ì¼		
	p_end_date 		date not null		//í€ë”© ë§ˆê°ì¼	ë§ˆê°ì¼ ë˜ë©´ í€ë”©ëª»í•˜ê²Œ ë§‰ê³ , orderdetail ì„±ê³µ, ì‹¤íŒ¨ (ì§„í–‰ì¤‘)
=======
	--¿äÀÏ
<<<<<<< HEAD
	p_reg_date 		default sysdate  ,	//ÀÛ¼ºÀÏ default sysdate ³Ö¾îµµ ±¦ÂúÀ»²¨ °°½À´Ï´Ù.
	p_start_date 	date not null,		//Æİµù ½ÃÀÛÀÏ		
	p_end_date 		date not null		//Æİµù ¸¶°¨ÀÏ	¸¶°¨ÀÏ µÇ¸é Æİµù¸øÇÏ°Ô ¸·°í, orderdetail ¼º°ø, ½ÇÆĞ (ÁøÇàÁß)
=======

	p_reg_date 		default sysdate  ,	--ÀÛ¼ºÀÏ default sysdate ³Ö¾îµµ ±¦ÂúÀ»²¨ °°½À´Ï´Ù.
	p_start_date 	date not null,		--Æİµù ½ÃÀÛÀÏ		
	p_end_date 		date not null		--Æİµù ¸¶°¨ÀÏ	¸¶°¨ÀÏ µÇ¸é Æİµù¸øÇÏ°Ô ¸·°í, orderdetail ¼º°ø, ½ÇÆĞ (ÁøÇàÁß)


>>>>>>> refs/remotes/origin/do-hjh
);

--ì˜µì…˜ í…Œì´ë¸”
drop sequence seqdo_option;
create sequence seqdo_option
  increment by 1
  start with 1
  minvalue 1
  nocache;

drop table do_option CASCADE CONSTRAINTS;
create table do_option( 
	option_no number primary key,
	private String option_content;
	private number option_item_no references do_product(p_num) on delete cascade,
)




-- ì¹´í…Œê³ ë¦¬ í…Œì´ë¸”
drop sequence catseq ;

--create sequence catseq nocache ;
create sequence catseq
increment by 1
start with 1
minvalue 1
maxvalue 10000
nocache;

drop table category cascade constraints purge ;
create table category(
	cnum 	number primary key,
	code 	varchar2(20) not null,	//ì¹´í…Œê³ ë¦¬ ì½”ë“œ í•¸ë“œí°
	cname 	varchar2(50) not null,	//ì¹´í…Œê³ ë¦¬ ì´ë¦„
);


--ì£¼ë¬¸ í…Œì´ë¸”
drop sequence seqoid ;
create sequence seqoid start with 1 increment by 1 nocache ;

 DROP TABLE do_order CASCADE CONSTRAINTS;
 

drop sequence seqoid ;
create sequence seqoid start with 1 increment by 1 nocache ;

 DROP TABLE do_order CASCADE CONSTRAINTS;

create table do_order(
--ì£¼ë¬¸ë²ˆí˜¸
  o_num number primary key,
--íšŒì›ë²ˆí˜¸
<<<<<<< HEAD
  o_mnum number references do_members(no) on delete set null,,
=======
  o_mnum number references do_members(no) on delete set null,
>>>>>>> refs/remotes/origin/do-hjh
--ìƒí’ˆë²ˆí˜¸
  o_pnum number references do_product(p_num) on delete set null,,
--ì£¼ë¬¸ìˆ˜ëŸ‰
  o_qty number not null,
--ì£¼ë¬¸ì¼
  o_date date default sysdate,
--ìƒí’ˆê°€ê²©
  o_price number not null,
--ì‹œì‘ì¼
  o_startdate date default sysdate,
--ì¢…ë£Œì¼
  o_enddate date default sysdate,
--ìƒíƒœ
  o_state varchar2(30) not null
);


-- ì£¼ë¬¸ ìƒì„¸ í…Œì´ë¸”
drop sequence seqodid;
create sequence seqodid start with 1 increment by 1 nocache ;

drop table order_details purge ;

create table order_details(
--ì£¼ë¬¸ìƒì„¸ ë²ˆí˜¸
  odid number primary key,
--ì£¼ë¬¸ë²ˆí˜¸
  oid number references orders(oid) on delete cascade,
--ìƒí’ˆë²ˆí˜¸  
  p_num number references do_product(p_num) on delete set null,
--ì£¼ë¬¸í•˜ë©´ ë‹¨ê°€*
  p_qty				int default 0,			//ì£¼ë¬¸ìˆ˜ëŸ‰
  p_order_price		int default 0,			//ì£¼ë¬¸ê¸ˆì•¡

  p_total_price 	int default 0,			//ê°€ê²©(í˜„ì¬ê¸ˆì•¡)
  p_end_price 		int default 0,			//ê°€ê²©(ëª©í‘œê¸ˆì•¡) 157%~ 200% ìˆìœ¼ë‹ˆ ììœ ë¡­ê²Œ	  
  p_end_date 		date not null,			//í€ë”© ë§ˆê°ì¼
  p_ing_state		varchar2(30) not null,	//í€ë”© ìƒíƒœ(if()ê±¸ê¸° :ì„±ê³µ, ì‹¤íŒ¨, ì§„í–‰ì¤‘)
	  
); 


--ê¸°ë³¸ ê²Œì‹œíŒ --ì†Œí†µ ì°½êµ¬ìš©
drop sequence seqdo_board;
create sequence seqdo_board
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table do_board CASCADE CONSTRAINTS;
create table do_board( 
	b_num number not null primary key,	//ê²Œì‹œê¸€ ë²ˆí˜¸(ë‹µê¸€í¬í•¨ ì „ì²´ ê²Œì‹œê¸€ ì ‘ê·¼)
	b_writer varchar2(10) references do_members(id) on delete cascade,	//ì‘ì„±ìëŠ” member id
	b_subject varchar2(20) not null,		//ê²Œì‹œê¸€ ì œëª©
	b_reg_date date not null,				//ì‘ì„±ì¼ default sysdate ë„£ì–´ë„ ê´œì°®ì„êº¼ ê°™ìŠµë‹ˆë‹¤.
	b_readcount int default 0,			//ì¡°íšŒìˆ˜
	--numberëŒ€ì‹  intë„ ì‚¬ìš©ê°€ëŠ¥
	--reë‹µê¸€ê´€ë ¨
	b_ref number not null,				//ê²Œì‹œê¸€(ê¸€)
	b_re_step number not null,			//í•œ ê²Œì‹œê¸€ì— ëŒ€í•œ ìˆœë²ˆ(ê¸€,ëŒ“ê¸€,ë‹µê¸€)
	b_re_level number not null,			//ê²Œì‹œê¸€ ë‹¨ê³„(ê¸€=0,ëŒ“ê¸€=1,ë‹µê¸€=2,ë‹µê¸€ì˜ë‹µê¸€=3...)
	--ë‹µê¸€ë§ˆë‹¤ 1ì”© ì¦ê°€
	b_content varchar2(20) not null		//ê²Œì‹œê¸€ ë‚´ìš©			
);


--ì¼ë”´ íŒ¨ìŠ¤
--í›„ê¸° ê²Œì‹œíŒ 
drop sequence seqdo_p_board;
create sequence seqdo_p_board
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table do_p_board CASCADE CONSTRAINTS;
create table do_p_board( 
	pb_num number not null primary key,	//(í›„ê¸°)ê²Œì‹œê¸€ ë²ˆí˜¸(ë‹µê¸€í¬í•¨ ì „ì²´ ê²Œì‹œê¸€ ì ‘ê·¼)
	pb_p_num number references do_product(p_num) on delete cascade,	//ê° ìƒí’ˆë³„ í›„ê¸°ì´ë¯€ë¡œ ìƒí’ˆë²ˆí˜¸
	pb_writer varchar2(10) references do_members(oid) on delete cascade,	//ì‘ì„±ìëŠ” member id
	pb_subject varchar2(20) not null,		//(í›„ê¸°)ê²Œì‹œê¸€ ì œëª©
	pb_reg_date date not null,				//ì‘ì„±ì¼ default sysdate ë„£ì–´ë„ ê´œì°®ì„êº¼ ê°™ìŠµë‹ˆë‹¤.
	
	//ì¡°íšŒìˆ˜ í›„ê¸°ì— ì¡°íšŒìˆ˜ëŠ” ìƒëµ
	--pb_readcount int default 0,				

	--reë‹µê¸€ê´€ë ¨
	pb_ref number not null,					//(í›„ê¸°)ê²Œì‹œê¸€(ê¸€)
	pb_re_step number not null,				//í•œ (í›„ê¸°)ê²Œì‹œê¸€ì— ëŒ€í•œ ìˆœë²ˆ(ê¸€,ëŒ“ê¸€,ë‹µê¸€)
	pb_re_level number not null,			//(í›„ê¸°)ê²Œì‹œê¸€ ë‹¨ê³„(ê¸€=0,ëŒ“ê¸€=1,ë‹µê¸€=2,ë‹µê¸€ì˜ë‹µê¸€=3...)
	--ë‹µê¸€ë§ˆë‹¤ 1ì”© ì¦ê°€
	pb_content varchar2(20) not null		//(í›„ê¸°)ê²Œì‹œê¸€ ë‚´ìš©			
);
